:root {
  font-size: calc(10px + 0.8vw);
  font-family: -apple-system, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;

  background-color: var(--site-bg);

  --tiny-font: 0.6rem;
  --small-font: 0.7rem;
  --block-mark: 4px;
  --halfpad: 0.5rem;
  --pad: 1rem;
  --squircle: 20%;
  --snap: 0.12s;
  --shadow: 2px 4px 5px rgba(0, 0, 0, 0.25);
  --edge: 0 0 2px 1px rgba(0, 0, 0, 0.25);
  /* --edge: 0 0 2px rgba(0, 0, 0, 0.75); */

  --site-bg: #e2e8f0;
  --main-bg: #f8fafc;
  --block-bg: #cbd5e1;

  --text: #0f172a;
  --text-soft: #64748b;
  --text-hard: yellow;

  --border: rgb(148, 163, 184);
  --border-soft: rgb(100, 116, 139);
  --border-hard: rgb(31, 41, 55);

  --url: #3366cc;
  --urlvisited: #7755bb;
  --highlight: #c3dbff;
}

:root.dark {
  --site-bg: yellow;
  --main-bg: darkgray;
  --block-bg: indigo;

  --text: green;
  --text-soft: lightskyblue;
  --text-hard: darkgreen;

  --border: brown;
  --border-soft: pink;
  --border-hard: orange;

  --url: #3366cc;
  --urlvisited: #7755bb;
  --highlight: #c3dbff;
}

/* necessary styles */

main {
  line-height: 1.5rem;
  color: var(--text);
}

/* main hr { */
/*   max-width: 100%; */
/* } */
/* main table { */
/*   max-width: 100%; */
/* } */

main p {
  margin: 0;
}

main p + p {
  margin-top: var(--pad);
}
main img {
  max-width: 100%;
}

/* preferred styles */

main a {
  text-decoration: underline var(--url);
  color: var(--url);
  border-radius: var(--block-mark);
  /* padding: 1px; */
}
main a:hover {
  text-decoration: underline dotted;
  background-color: var(--highlight);
  box-shadow: 0 0 0 2px var(--highlight);
}
main a:visited {
  text-decoration: underline var(--urlvisited);
  color: var(--urlvisited);
}

/* NOTE: i assume that nofollow links of main are external */
main a[rel="nofollow"]::after {
  /* TODO: use mingcute external link */
  content: " â¤´";
  font-size: 0.75em;
}

main blockquote {
  /* color: FG2; */
  background: var(--block-bg);
  border: 1px solid var(--border-hard);
  border-left: var(--block-mark) solid var(--border);
  /* seems silly, but this pins the radius to the mark width */
  border-radius: var(--block-mark);
  box-shadow: var(--edge);

  margin: var(--pad);
  padding: var(--pad);
}

main :not(pre) code {
  font-family: monospace;
  background-color: var(--block-bg);

  border: 1px solid var(--border-hard);
  border-radius: var(--block-mark);
  padding: 1px;
}

main pre {
  font-family: monospace;
  margin: var(--halfpad);
  padding: var(--halfpad);

  border: 1px solid var(--border-hard);
  border-left: var(--block-mark) solid var(--border);
  border-radius: var(--block-mark);

  box-shadow: var(--edge);
}

@media (min-width: 2000px) {
  /* less aggressive scale for especially large displays */
  :root {
    font-size: calc(10px + 0.5vw);
  }
}

@media (pointer: none), (pointer: coarse) {
  /* bigger scale for mobile */
  :root {
    font-size: calc(10px + 1.5vw);
  }
}
